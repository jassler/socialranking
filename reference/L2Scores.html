<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculate the \(L^{(2)}\) scores."><title>L2 Ranking — L2Scores • socialranking</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="L2 Ranking — L2Scores"><meta property="og:description" content="Calculate the \(L^{(2)}\) scores."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">socialranking</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/socialranking.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/socialranking_pdf.html">`socialranking`: A package for evaluating ordinal power relations in cooperative game theory</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jassler/socialranking/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>L2 Ranking</h1>
      <small class="dont-index">Source: <a href="https://github.com/jassler/socialranking/blob/HEAD/R/lexcel2.R" class="external-link"><code>R/lexcel2.R</code></a></small>
      <div class="d-none name"><code>L2Scores.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the \(L^{(2)}\) scores.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">L2Scores</span><span class="op">(</span><span class="va">powerRelation</span>, elements <span class="op">=</span> <span class="va">powerRelation</span><span class="op">$</span><span class="va">elements</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">L2Ranking</span><span class="op">(</span><span class="va">powerRelation</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">lexcel2Scores</span><span class="op">(</span><span class="va">powerRelation</span>, elements <span class="op">=</span> <span class="va">powerRelation</span><span class="op">$</span><span class="va">elements</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">lexcel2Ranking</span><span class="op">(</span><span class="va">powerRelation</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>powerRelation</dt>
<dd><p>A <code><a href="PowerRelation.html">PowerRelation</a></code> object created by <code><a href="PowerRelation.html">PowerRelation()</a></code> or <code><a href="as.PowerRelation.html">as.PowerRelation()</a></code></p></dd>


<dt>elements</dt>
<dd><p>Vector of elements of which to calculate their scores.
By default, the scores of all elements in <code>powerRelation$elements</code> are considered.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Score function returns a list of type <code>L2Scores</code> and length of <code>powerRelation$elements</code></p>


<p>(unless parameter <code>elements</code> is specified).
Each index contains a matrix with <code>length(powerRelation$eqs)</code> columns and <code>1 + length(powerRelation$elements)</code> rows.</p>


<p>Ranking function returns corresponding <code><a href="socialranking.html">SocialRanking</a></code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Let \(N\) be a set of elements, \(\succsim \in \mathcal{T}(\mathcal{P})\) a power relation,
and \(\Sigma_1 \succ \Sigma_2 \succ \dots \succ \Sigma_m\) its corresponding quotient order.</p>
<p>For an element \(i \in N\), construct a matrix \(M^\succsim_i\) with \(m\) columns and \(|N|\) rows.
Whereas each column \(q\) represents an equivalence class, each row \(p\) corresponds to the coalition size.</p>
<p>$$(M^\succsim_i)_{p,q} = |\lbrace S \in \Sigma_q: |S| = p \text{ and } i \in S\rbrace|$$</p>
<p>Given two elements \(i, j \in N\), \(L^{(2)}\) then ranks
\(i\) <em>strictly above</em> \(j\) if there is some row
\(p^0 \in \lbrace 1, \dots, |N| \rbrace\) and column
\(q^0 \in \lbrace 1, \dots, m \rbrace\) such that</p><ol><li><p>\(\sum_{p = 1}^{|N|} (M^\succsim_i)_{p,q} = \sum_{p = 1}^{|N|} (M^\succsim_j)_{p,q}\text{ for all } q &lt; q^0\),</p></li>
<li><p>\(\begin{cases}
\text{(i)\hphantom{i} either } &amp; \sum_{p=1}^{|N|} (M^\succsim_i)_{p,q^0} &gt; \sum_{p=1}^{|N|} (M^\succsim_j)_{p,q^0}\\[5pt]
\text{(ii) or } &amp; (M^\succsim_i)_{p^0,q^0} &gt; (M^\succsim_j)_{p^0,q^0} \text{ and } (M^\succsim_i)_{p,q^0} = (M^\succsim_j)_{p,q^0} \text{ for all } p &lt; p^0
\end{cases}\)</p></li>
</ol><p>Note that the conditions are very similar to <code><a href="L1Scores.html">L1Ranking()</a></code>, with the difference that condition 3.(i)
also ranks an element over another if they simply appear more often in an equivalence class, regardless of coalition size.
This implies that a row \(p^0\) for condition 3.(ii) to be satisfied may not have to exist.</p>
    </div>
    <div class="section level2">
    <h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a></h2>
    


<p>Let \(N = \lbrace 1, 2, 3, 4 \rbrace\) and \(\succsim: (123 \sim 12 \sim 13 \sim 14 \sim 2 \sim 4) \succ S\),
where \(S\) is every other coalition not present in the first equivalence class.
From this, we get the following four matrices:</p>
<p>$$
M^\succsim_1 = \begin{bmatrix}
0 &amp; 1\\
3 &amp; 0\\
1 &amp; 2\\
0 &amp; 1
\end{bmatrix}
M^\succsim_2 = \begin{bmatrix}
1 &amp; 0\\
1 &amp; 2\\
1 &amp; 2\\
0 &amp; 1
\end{bmatrix}
M^\succsim_3 = \begin{bmatrix}
0 &amp; 1\\
1 &amp; 2\\
1 &amp; 2\\
0 &amp; 1
\end{bmatrix}
M^\succsim_4 = \begin{bmatrix}
1 &amp; 0\\
1 &amp; 2\\
0 &amp; 3\\
0 &amp; 1
\end{bmatrix}
$$</p>
<p>For the sums in column 1, we get</p>
<p>$$\begin{aligned}\sum_{p=1}^{4} (M^\succsim_1)_{p,1} &amp;= 4,\\\sum_{p=1}^{4} (M^\succsim_2)_{p,1} &amp;= 3,\\\sum_{p=1}^{4} (M^\succsim_3)_{p,1} = \sum_{p=1}^{4} (M^\succsim_4)_{p,1} &amp;= 2\end{aligned}.$$</p>
<p>This immediately puts \(1\) above all other elements and \(2\) above \(3\) and \(4\) according to the \(L^{(2)}\).
\(L^{(1)}\) would in this case prefer \(2\) over \(1\), simply because \(2\) appears once in a coalition of size 1 and \(1\) doesn't.</p>
<p>Since the column sum for \(3\) and \(4\) is the same, we can next evaluate if the individual row values are also the same.
Here, since \((M^\succsim_4)_{1,1} &gt; (M^\succsim_3)_{1,1}\), this gives an edge of element \(4\) over \(3\).</p>
<p>Note that, if the column was identical for \(3\) and \(4\), we would go to the next column and repeat the process.
Elements are only then considered indifferent from each other, if the entire matrix is identical between the two.</p>
    </div>
    <div class="section level2">
    <h2 id="alterations">Alterations<a class="anchor" aria-label="anchor" href="#alterations"></a></h2>
    


<p>The matrices as described above and in Béal S, Rémila E, Solal P (2022).
“Lexicographic solutions for coalitional rankings based on individual and collective performances.”
<em>Journal of Mathematical Economics</em>, <b>102</b>, 102738.
 can be investigated with the <code><a href="L1Scores.html">L1Scores()</a></code> function.</p>
<p>For less complexity, another row is prepended to the matrix showing the sum of each column.
Through this, a simple \(L^{(1)}\) comparison can be applied.</p>
    </div>
    <div class="section level2">
    <h2 id="aliases">Aliases<a class="anchor" aria-label="anchor" href="#aliases"></a></h2>
    


<p>For better discoverability, <code>lexcel2Scores()</code> and <code>lexcel2Ranking()</code> serve as aliases for <code>L2Scores()</code> and <code>L2Ranking()</code>, respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Algaba E, Moretti S, Rémila E, Solal P (2021).
“Lexicographic solutions for coalitional rankings.”
<em>Social Choice and Welfare</em>, <b>57</b>(4), 1--33.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other ranking solution functions: 
<code><a href="L1Scores.html">L1Scores</a>()</code>,
<code><a href="LPSScores.html">LPSScores</a>()</code>,
<code><a href="LpScores.html">LPScores</a>()</code>,
<code><a href="copelandScores.html">copelandScores</a>()</code>,
<code><a href="cumulativeScores.html">cumulativeScores</a>()</code>,
<code><a href="kramerSimpsonScores.html">kramerSimpsonScores</a>()</code>,
<code><a href="lexcelScores.html">lexcelScores</a>()</code>,
<code><a href="ordinalBanzhafScores.html">ordinalBanzhafScores</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.PowerRelation.html">as.PowerRelation</a></span><span class="op">(</span><span class="st">"123 ~ 12 ~ 13 ~ 14 ~ 2 ~ 4"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="appendMissingCoalitions.html">appendMissingCoalitions</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu">L2Scores</span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scores</span><span class="op">$</span><span class="va">`1`</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    0    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    1    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    0    1</span>
<span class="r-in"><span><span class="co">#      [,1] [,2]</span></span></span>
<span class="r-in"><span><span class="co"># [1,]    0    1</span></span></span>
<span class="r-in"><span><span class="co"># [2,]    3    0</span></span></span>
<span class="r-in"><span><span class="co"># [3,]    1    2</span></span></span>
<span class="r-in"><span><span class="co"># [3,]    0    1</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">L2Ranking</span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 &gt; 2 &gt; 4 &gt; 3</span>
<span class="r-in"><span><span class="co"># 1 &gt; 2 &gt; 4 &gt; 3</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="L1Scores.html">L1Ranking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 &gt; 4 &gt; 1 &gt; 3</span>
<span class="r-in"><span><span class="co"># 2 &gt; 4 &gt; 1 &gt; 3</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix Fritz, Jochen Staudacher, Moretti Stefano.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>


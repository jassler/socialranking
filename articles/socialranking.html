<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="socialranking">
<title>`socialranking`: A package for evaluating ordinal power relations in cooperative game theory • socialranking</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="`socialranking`: A package for evaluating ordinal power relations in cooperative game theory">
<meta property="og:description" content="socialranking">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">socialranking</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/socialranking.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/socialranking_pdf.html">`socialranking`: A package for evaluating ordinal power relations in cooperative game theory</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>`socialranking`: A package for evaluating ordinal power relations in cooperative game theory</h1>
                        <h4 data-toc-skip class="author"><div class="line-block">Jochen Staudacher, Stefano Moretti, Felix Fritz<br>
(Hochschule Kempten, Université Paris Dauphine)<br>
Contact: <a href="mailto:jochen.staudacher@hs-kempten.de" class="email">jochen.staudacher@hs-kempten.de</a>
</div></h4>
            
            <h4 data-toc-skip class="date">2022-10-28</h4>
      
      
      <div class="d-none name"><code>socialranking.Rmd</code></div>
    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      This document gives a brief introduction to power relations and
      social ranking solutions aimed at ranking elements based on their
      contributions within coalitions. This document accompanies version
      0.1.0 of the package <code>socialranking</code>. ¶
      <strong>Keywords</strong>: power relation, social ranking
      solution, cooperative game theory, dominance, cp-majority,
      Copeland, Kramer-Simpson, ordinal Banzhaf, dominance,
      lexicographical excellence, relations.
    </div>
    
<!--
# ```{r eval=TRUE, echo=FALSE}
# child_docs <- list.files(path="chapters",recursive = TRUE, pattern=".Rmd", full.names = TRUE)
# ```
# 
# 
# 
# ```{r, child = child_docs}
-->
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In the literature of cooperative games, the notion of <em>power
index</em> <span class="citation">[1–3]</span> has been widely studied
to analyze the ``influence” of individuals taking into account their
ability to force a decision within groups or coalitions. In practical
situations, however, the information concerning the strength of
coalitions is hardly quantifiable. So, any attempt to numerically
represent the influence of groups and individuals clashes with the
complex and multi-attribute nature of the problem and it seems more
realistic to represent collective decision-making mechanisms using an
ordinal coalitional framework based on two main ingredients: a binary
relation over groups or coalitions and a ranking over the
individuals.</p>
<p>The main objective of the package <code>socialranking</code> is to
provide answers for the general problem of how to compare the elements
of a finite set <span class="math inline">\(N\)</span> given a ranking
over the elements of its power-set (the set of all possible subsets of
<span class="math inline">\(N\)</span>). To do this, the package
<code>socialranking</code> implements a portfolio of solutions from the
recent literature on <em>social rankings</em> <span class="citation">[4–10]</span>.</p>
<div class="section level3">
<h3 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h3>
<p>A <em>power relation</em> (i.e, a ranking over subsets of a finite
set <span class="math inline">\(N\)</span>; see the Section on <a href="#sec:prelim">PowerRelation objects</a> for a formal definition)
can be constructed using the <code><a href="../reference/newPowerRelation.html">newPowerRelation()</a></code> or
<code><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString()</a></code> functions.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jassler.github.io/socialranking/">socialranking</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="fl">1</span>, <span class="st">"~"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 12 &gt; (1 ~ {}) &gt; 2</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"ab &gt; a ~ {} &gt; b"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: a b</span></span>
<span><span class="co">## ab &gt; (a ~ {}) &gt; b</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"12 &gt; 1 ~ {} &gt; 2"</span>, asWhat <span class="op">=</span> <span class="va">as.numeric</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 12 &gt; (1 ~ {}) &gt; 2</span></span></code></pre>
<p>Functions used to analyze a given <code>PowerRelation</code> object
can be grouped into three main categories:</p>
<ul>
<li>
<em>Comparison</em> functions, only comparing two elements;</li>
<li>
<em>Score</em> functions, calculating the scores for each
element;</li>
<li>
<em>Ranking</em> functions, creating
<code>SocialRankingSolution</code> objects.</li>
</ul>
<p>Comparison and score functions are often used to evaluate a social
ranking solution (see section on <a href="#sec:prelim">PowerRelation
objects</a> for a formal definition). Listed below are some of the most
prominent functions and solutions introduced in the aforementioned
papers.</p>
<table class="table table table-hover" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;"> Comparison functions </th>
   <th style="text-align:left;"> Score functions </th>
   <th style="text-align:left;"> Ranking functions </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> <code><a href="../reference/dominates.html">dominates()</a></code> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> <code><a href="../reference/cumulativeScores.html">cumulativelyDominates()</a></code> </td>
   <td style="text-align:left;"> <code><a href="../reference/cumulativeScores.html">cumulativeScores()</a></code> </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> <code><a href="../reference/cpMajorityComparison.html">cpMajorityComparison()</a></code><br><code><a href="../reference/cpMajorityComparison.html">cpMajorityComparisonScore()</a></code> </td>
   <td style="text-align:left;"> <code><a href="../reference/copelandScores.html">copelandScores()</a></code><br><code><a href="../reference/kramerSimpsonScores.html">kramerSimpsonScores()</a></code> </td>
   <td style="text-align:left;"> <code><a href="../reference/copelandScores.html">copelandRanking()</a></code><br><code><a href="../reference/kramerSimpsonScores.html">kramerSimpsonRanking()</a></code> </td>
  </tr>
<tr>
<td style="text-align:left;">  </td>
   <td style="text-align:left;"> <code><a href="../reference/lexcelScores.html">lexcelScores()</a></code> </td>
   <td style="text-align:left;"> <code><a href="../reference/lexcelScores.html">lexcelRanking()</a></code><br><code><a href="../reference/lexcelScores.html">dualLexcelRanking()</a></code> </td>
  </tr>
<tr>
<td style="text-align:left;">  </td>
   <td style="text-align:left;"> <code><a href="../reference/ordinalBanzhafScores.html">ordinalBanzhafScores()</a></code> </td>
   <td style="text-align:left;"> <code><a href="../reference/ordinalBanzhafScores.html">ordinalBanzhafRanking()</a></code> </td>
  </tr>
</tbody>
</table>
<p>These functions may be called as follows.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"ab &gt; ac ~ bc &gt; a ~ c &gt; {} &gt; b"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a dominates b -&gt; TRUE</span></span>
<span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># b does not dominate a -&gt; FALSE</span></span>
<span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"b"</span>, <span class="st">"a"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># calculate cumulative scores</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cumulativeScores.html">cumulativeScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span><span class="co"># show score of element a</span></span>
<span><span class="va">scores</span><span class="op">$</span><span class="va">a</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 3 3 3</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># performing a bunch of rankings</span></span>
<span><span class="fu"><a href="../reference/lexcelScores.html">lexcelRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b &gt; c</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lexcelScores.html">dualLexcelRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; c &gt; b</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/copelandScores.html">copelandRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b ~ c</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/kramerSimpsonScores.html">kramerSimpsonRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b ~ c</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ordinalBanzhafScores.html">ordinalBanzhafRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a ~ c &gt; b</span></span></code></pre>
<p>Finally an incidence matrix for all given coalitions can be
constructed using <code>powerRelationMatrix(pr)</code> or
<code>as.relation(pr)</code> from the <code>relations</code> package
<span class="citation">[11]</span>. The incidence matrix may be
displayed using <code><a href="https://rdrr.io/pkg/relations/man/incidence.html" class="external-link">relations::relation_incidence()</a></code>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rel</span> <span class="op">&lt;-</span> <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/relation.html" class="external-link">as.relation</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span><span class="va">rel</span></span></code></pre></div>
<pre><code><span><span class="co">## A binary relation of size 7 x 7.</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/incidence.html" class="external-link">relation_incidence</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Incidences:</span></span>
<span><span class="co">##    ab ​ac ​​bc ​​​a ​​​​c ​​​​​{} ​​​​​​b</span></span>
<span><span class="co">## ab  1  1  1 1 1  1 1</span></span>
<span><span class="co">## ​ac  0  1  1 1 1  1 1</span></span>
<span><span class="co">## ​​bc  0  1  1 1 1  1 1</span></span>
<span><span class="co">## ​​​a   0  0  0 1 1  1 1</span></span>
<span><span class="co">## ​​​​c   0  0  0 1 1  1 1</span></span>
<span><span class="co">## ​​​​​{}  0  0  0 0 0  1 1</span></span>
<span><span class="co">## ​​​​​​b   0  0  0 0 0  0 1</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="sec:prelim">
<code>PowerRelation</code> Objects<a class="anchor" aria-label="anchor" href="#sec:prelim"></a>
</h2>
<p>We first introduce some basic definitions on binary relations. Let
<span class="math inline">\(X\)</span> be a set. A set <span class="math inline">\(R \subseteq X \times X\)</span> is said a
<em>binary relation</em> on <span class="math inline">\(X\)</span>. For
two elements <span class="math inline">\(x, y \in X\)</span>, <span class="math inline">\(xRy\)</span> refers to their relation, more
formally it means that <span class="math inline">\((x,y) \in R\)</span>.
A binary relation <span class="math inline">\((x,y) \in R\)</span> is
said to be:</p>
<ul>
<li>
<em>reflexive</em>, if for each <span class="math inline">\(x \in X,
xRx\)</span>
</li>
<li>
<em>transitive</em>, if for each <span class="math inline">\(x, y, z
\in X, xRy\)</span> and <span class="math inline">\(yRz \Rightarrow
xRz\)</span>
</li>
<li>
<em>total</em>, if for each <span class="math inline">\(x,y \in X, x
\neq y \Rightarrow xRy\)</span> or <span class="math inline">\(yRx\)</span>
</li>
<li>
<em>symmetric</em>, if for each <span class="math inline">\(x,y \in
X,xRy \Leftrightarrow yRx\)</span>
</li>
<li>
<em>asymmetric</em>, if for each <span class="math inline">\(x,y \in
X,(x,y) \in R \Rightarrow (y,x) \notin R\)</span>
</li>
<li>
<em>antisymmetric</em>, if for each <span class="math inline">\(x,y
\in X,xRy \cap yRx \Rightarrow x=y\)</span>
</li>
</ul>
<p>A <em>preorder</em> is defined as a reflexive and transitive
relation. If it is total, it is called a <em>total preorder</em>.
Additionally if it is antisymmetric, it is called a <em>linear
order</em>.</p>
<p>Let <span class="math inline">\(N = \{1, 2, \dots, n\}\)</span> be a
finite set of <em>elements</em>, sometimes also called <em>players</em>.
For some <span class="math inline">\(p \in \{1, \ldots, 2^n\}\)</span>,
let <span class="math inline">\(\mathcal{P} = \{S_1, S_2, \dots,
S_{p}\}\)</span> be a set of <em>coalitions</em> such that <span class="math inline">\(S_i \subseteq N\)</span> for all <span class="math inline">\(i \in \{1, \ldots, p\}\)</span>. Thus <span class="math inline">\(\mathcal{P} \subseteq 2^N\)</span>, where <span class="math inline">\(2^N\)</span> denotes the power set of <span class="math inline">\(N\)</span> (i.e., the set of all subsets or
coalitions of <span class="math inline">\(N\)</span>).</p>
<p><span class="math inline">\(\mathcal{T}(N)\)</span> denotes the set
of all total preorders on <span class="math inline">\(N\)</span>, <span class="math inline">\(\mathcal{T}(\mathcal{P})\)</span> the set of all
total preorders on <span class="math inline">\(\mathcal{P}\)</span>. A
single total preorder <span class="math inline">\(\succeq \in
\mathcal{T}(\mathcal{P})\)</span> is said a <em>power relation</em>.</p>
<p>In a given power relation <span class="math inline">\(\succeq \in
\mathcal{T}(\mathcal{P})\)</span> on <span class="math inline">\(\mathcal{P} \subseteq 2^N\)</span>, its symmetric
part is denoted by <span class="math inline">\(\sim\)</span> (i.e.,
<span class="math inline">\(S \sim T\)</span> if <span class="math inline">\(S \succeq T\)</span> and <span class="math inline">\(T \succeq S\)</span>), whereas its asymmetric part
is denoted by <span class="math inline">\(\succ\)</span> (i.e., <span class="math inline">\(S \succ T\)</span> if <span class="math inline">\(S \succeq T\)</span> and not <span class="math inline">\(T \succeq S\)</span>). In other terms, for <span class="math inline">\(S \sim T\)</span> we say that <span class="math inline">\(S\)</span> is <em>indifferent</em> to <span class="math inline">\(T\)</span>, whereas for <span class="math inline">\(S \succ T\)</span> we say that <span class="math inline">\(S\)</span> is <em>strictly better</em> than <span class="math inline">\(T\)</span>.</p>
<p>Lastly for a given power relation in the form of <span class="math inline">\(S_1 \succeq S_2 \succeq \ldots \succeq
S_m\)</span>, coalitions that are indifferent to one another can be
grouped into <em>equivalence classes</em> <span class="math inline">\(\sum_i\)</span> such that we get the <em>quotient
order</em> <span class="math inline">\(\sum_1 \succ \sum_2 \succ \ldots
\succ \sum_m\)</span>.</p>
<div id="ex:1" class="example theorem" text="1">
<p> Let <span class="math inline">\(N=\{1,2\}\)</span> be two players
with its corresponding power set <span class="math inline">\(2^N =
\{\{1,2\}, \{1\}, \{2\}, \emptyset\}\)</span>. The following power
relation is given: <span class="math inline">\(\succeq =
\{(\{1,2\},\{2\}), (\{2\}, \emptyset), (\emptyset, \{2\}), (\emptyset,
\{1\})\}\)</span>. This power relation can be rewritten in a consecutive
order as: <span class="math inline">\(\{1,2\} \succ \{2\} \sim \emptyset
\succ \{1\}\)</span>. Its quotient order is formed by three equivalence
classes <span class="math inline">\(\sum_1 = \{\{1,2\}\}, \sum_2 =
\{\{2\}, \emptyset\},\)</span> and <span class="math inline">\(\sum_3 =
\{\{1\}\}\)</span>; so the quotient order of <span class="math inline">\(\succeq\)</span> is such that <span class="math inline">\(\{\{1,2\}\} \succ \{\{2\}, \emptyset\} \succ
\{\{1\}\}\)</span>.</p>
</div>
<p>A <em>social ranking solution</em> (also called <em>social
ranking</em> or, simply, <em>solution</em>) on <span class="math inline">\(N\)</span>, is a function <span class="math inline">\(R: \mathcal{T}(\mathcal{P}) \longrightarrow
\mathcal{T}(N)\)</span> associating to each power relation <span class="math inline">\(\succeq \in \mathcal{T}(\mathcal{P})\)</span> a
total preorder <span class="math inline">\(R(\succeq)\)</span> (or <span class="math inline">\(R^\succeq\)</span>) over the elements of <span class="math inline">\(N\)</span>. By this definition, the notion <span class="math inline">\(i R^\succeq j\)</span> means that applying the
social ranking solution to the power relation <span class="math inline">\(\succeq\)</span> gives the result that <span class="math inline">\(i\)</span> is ranked higher than or equal to <span class="math inline">\(j\)</span>.</p>
<div class="section level3">
<h3 id="creating-powerrelation-objects">Creating <code>PowerRelation</code> Objects<a class="anchor" aria-label="anchor" href="#creating-powerrelation-objects"></a>
</h3>
<p>A power relation in the <code>socialranking</code> package is defined
to be reflexive, transitive and total. In designing the package it was
deemed logical to have the coalitions specified in a consecutive order,
as seen in Example <a href="#ex:1">1</a>. Each coalition in that order
is split either by a <code>"&gt;"</code> (left side strictly better) or
a <code>"~"</code> (two coalitions indifferent to one another). The
following code chunk shows the power relation from Example <a href="#ex:1">1</a> and how a correlating <code>PowerRelation</code>
object can be constructed.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jassler.github.io/socialranking/">socialranking</a></span><span class="op">)</span></span>
<span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="fl">2</span>, <span class="st">"~"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">pr</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 12 &gt; (2 ~ {}) &gt; 1</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "PowerRelation"      "SingleCharElements"</span></span></code></pre>
<p>Notice how coalitions such as <span class="math inline">\(\{1,2\}\)</span> are written as <code>12</code> to
improve readability. Similarly the function
<code>newPowerRelationFromString</code> saves some typing on the user’s
end by interpreting each character of a coalition as a separate player.
Note that spaces in that function are ignored.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"12 &gt; 2~{} &gt; 1"</span>, asWhat <span class="op">=</span> <span class="va">as.numeric</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 12 &gt; (2 ~ {}) &gt; 1</span></span></code></pre>
<p>The compact notation is only done in <code>PowerRelation</code>
objects where every player is one digit or one character long. If this
is not the case, curly braces and commas are added where needed.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prLong</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="st">"Bob"</span>, <span class="st">"~"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="st">"Alice"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">prLong</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: Alice Bob</span></span>
<span><span class="co">## {Alice, Bob} &gt; ({Bob} ~ {}) &gt; {Alice}</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">prLong</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "PowerRelation"</span></span></code></pre>
<p>Some may have spotted a <code>"SingleCharElements"</code> class
missing in <code>class(prLong)</code> that has been there in
<code>class(pr)</code>. <code>"SingleCharElements"</code> influences the
way coalitions are printed. If it is removed from
<code>class(pr)</code>, the output will include the same curly braces
and commas displayed in <code>prLong</code>.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span> <span class="op">==</span> <span class="st">"SingleCharElements"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">pr</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## {1, 2} &gt; ({2} ~ {}) &gt; {1}</span></span></code></pre>
<p>Internally a <code>PowerRelation</code> is a list with four
attributes (see table below). Notice that every coalition vector is
turned into a <code>set</code> object from the <code>sets</code>
package<span class="citation">[12]</span>.</p>
<table class="table table table-hover" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;"> Attribute </th>
   <th style="text-align:left;"> Description </th>
   <th style="text-align:left;"> Value in <code>pr</code> </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> <code>elements</code> </td>
   <td style="text-align:left;"> Sorted vector of elements </td>
   <td style="text-align:left;"> <code>c(1,2)</code> </td>
  </tr>
<tr>
<td style="text-align:left;"> <code>rankingCoalitions</code> </td>
   <td style="text-align:left;"> Coalitions in power relation </td>
   <td style="text-align:left;"> <code>list(set(1,2),set(2),set(),set(1))</code> </td>
  </tr>
<tr>
<td style="text-align:left;"> <code>equivalenceClasses</code> </td>
   <td style="text-align:left;"> List containing lists, each<br>containing coalitions in the<br>same equivalence class </td>
   <td style="text-align:left;"> <code>list(list(set(1,2)),</code><br><code>list(set(2), set()),</code><br><code>list(set(1)))</code> </td>
  </tr>
</tbody>
</table>
<p>Since each coalition vector is turned into a <code>set</code>,
coalitions such as <code>c(1,2)</code>, <code>c(2,1)</code> and
<code>c(1,1,2,2)</code> are equivalent.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prAtts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, <span class="st">"~"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">prAtts</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 12 &gt; (1 ~ {})</span></span></code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prAtts</span><span class="op">$</span><span class="va">elements</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2</span></span></code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prAtts</span><span class="op">$</span><span class="va">rankingCoalitions</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## {1, 2}</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## {1}</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## {}</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prAtts</span><span class="op">$</span><span class="va">rankingComparators</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "&gt;" "~"</span></span></code></pre>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prAtts</span><span class="op">$</span><span class="va">equivalenceClasses</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## [[1]][[1]]</span></span>
<span><span class="co">## {1, 2}</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [[2]][[1]]</span></span>
<span><span class="co">## {1}</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]][[2]]</span></span>
<span><span class="co">## {}</span></span></code></pre>
<p><code><a href="../reference/equivalenceClassIndex.html">equivalenceClassIndex()</a></code> determines at which index <span class="math inline">\(i\)</span> a coalition <span class="math inline">\(S \in \sum_i\)</span>.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/equivalenceClassIndex.html">equivalenceClassIndex</a></span><span class="op">(</span><span class="va">prAtts</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1</span></span></code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/equivalenceClassIndex.html">equivalenceClassIndex</a></span><span class="op">(</span><span class="va">prAtts</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 2</span></span></code></pre>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/equivalenceClassIndex.html">equivalenceClassIndex</a></span><span class="op">(</span><span class="va">prAtts</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 2</span></span></code></pre>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># are the given coalitions in the same equivalence class?</span></span>
<span><span class="fu"><a href="../reference/coalitionsAreIndifferent.html">coalitionsAreIndifferent</a></span><span class="op">(</span><span class="va">prAtts</span>, <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coalitionsAreIndifferent.html">coalitionsAreIndifferent</a></span><span class="op">(</span><span class="va">prAtts</span>, <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="manipulating-powerrelation-objects">Manipulating <code>PowerRelation</code> Objects<a class="anchor" aria-label="anchor" href="#manipulating-powerrelation-objects"></a>
</h3>
<p>It is strongly discouraged to directly manipulate
<code>PowerRelation</code> objects, since modifying one list or vector
entry would require updates on all attributes. Instead
<code>newPowerRelation</code> offers two parameters
<code>rankingCoalitions</code> and <code>rankingComparators</code>, each
corresponding to the same named attributes of a
<code>PowerRelation</code> object.</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## {1, 2} &gt; ({2} ~ {}) &gt; {1}</span></span></code></pre>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># reverse power ranking</span></span>
<span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span></span>
<span>  rankingCoalitions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">pr</span><span class="op">$</span><span class="va">rankingCoalitions</span><span class="op">)</span>,</span>
<span>  rankingComparators <span class="op">=</span> <span class="va">pr</span><span class="op">$</span><span class="va">rankingComparators</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 1 &gt; ({} ~ 2) &gt; 12</span></span></code></pre>
<p>Note that <code>rankingComparators</code> is optional. By default it
assumes <code>rankingCoalitions</code> to be a linear order.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span>rankingCoalitions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">pr</span><span class="op">$</span><span class="va">rankingCoalitions</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 1 &gt; {} &gt; 2 &gt; 12</span></span></code></pre>
<p>If the length of the <code>rankingComparators</code> vector is
smaller or larger than the length of <code>rankingCoalitions</code>, the
function silently fills in any gaps.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># if too short -&gt; comparator values are repeated</span></span>
<span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span></span>
<span>  rankingCoalitions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span>,</span>
<span>  rankingComparators <span class="op">=</span> <span class="st">"~"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2 3 4 5 6 7 8 9</span></span>
<span><span class="co">## (1 ~ 2 ~ 3 ~ 4 ~ 5 ~ 6 ~ 7 ~ 8 ~ 9)</span></span></code></pre>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span></span>
<span>    rankingCoalitions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    rankingComparators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"&gt;"</span>, <span class="st">"~"</span>, <span class="st">"~"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: a b c d e f g h i</span></span>
<span><span class="co">## a &gt; (b ~ c ~ d) &gt; (e ~ f ~ g) &gt; (h ~ i)</span></span></code></pre>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># if too long -&gt; ignore excessive comparators</span></span>
<span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span></span>
<span>  rankingCoalitions <span class="op">=</span> <span class="va">pr</span><span class="op">$</span><span class="va">rankingCoalitions</span>,</span>
<span>  rankingComparators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"~"</span>, <span class="st">"&gt;"</span>, <span class="st">"~"</span>, <span class="st">"&gt;"</span>, <span class="st">"&gt;"</span>, <span class="st">"~"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## (12 ~ 2) &gt; ({} ~ 1)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="creating-power-sets">Creating Power sets<a class="anchor" aria-label="anchor" href="#creating-power-sets"></a>
</h3>
<p>As the number of elements <span class="math inline">\(n\)</span>
increases, the number of possible coalitions increases to <span class="math inline">\(|2^N| = 2^n\)</span>. <code>createPowerset</code>
is a convenient function that not only creates a power set <span class="math inline">\(2^N\)</span> which can be used to call
<code>newPowerRelation</code>, but also formats the function call in
such a way that makes it easy to rearrange the ordering of the
coalitions. RStudio offers shortcuts Alt+Up or Alt+Down (Option+Up or
Option+Down on MacOS) to move one or multiple lines of code up or down
(see fig. <a href="#fig:alt">below</a>).</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/createPowerset.html">createPowerset</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>,</span>
<span>  writeLines <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  copyToClipboard <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## newPowerRelation(</span></span>
<span><span class="co">##   c("a", "b", "c"),</span></span>
<span><span class="co">##   "&gt;", c("a", "b"),</span></span>
<span><span class="co">##   "&gt;", c("a", "c"),</span></span>
<span><span class="co">##   "&gt;", c("b", "c"),</span></span>
<span><span class="co">##   "&gt;", c("a"),</span></span>
<span><span class="co">##   "&gt;", c("b"),</span></span>
<span><span class="co">##   "&gt;", c("c"),</span></span>
<span><span class="co">##   "&gt;", c(),</span></span>
<span><span class="co">## )</span></span></code></pre>
<div class="figure">
<img src="media/altupanddown.jpg" id="fig:alt" alt=""><p class="caption">Using Alt+Up or Alt+Down to move one or more lines of
code</p>
</div>
<p>If <code>writeLines</code> and <code>copyToClipboard</code> are both
set to <code>FALSE</code>, the function instead returns a list only
containing coalition vectors. This list can be passed directly as
<code>rankingCoalitions</code> parameter to
<code>newPowerRelation</code>.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createPowerset.html">createPowerset</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, includeEmptySet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">ps</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## [1] 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## [1] 2</span></span></code></pre>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span>rankingCoalitions <span class="op">=</span> <span class="va">ps</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 12 &gt; 1 &gt; 2</span></span></code></pre>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span>rankingCoalitions <span class="op">=</span> <span class="fu"><a href="../reference/createPowerset.html">createPowerset</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: a b c d</span></span>
<span><span class="co">## abcd &gt; abc &gt; abd &gt; acd &gt; bcd &gt; ab &gt; ac &gt; ad &gt; bc &gt; bd &gt; cd &gt; a &gt; b &gt; c &gt; d &gt; {}</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="socialrankingsolution-objects">
<code>SocialRankingSolution</code> Objects<a class="anchor" aria-label="anchor" href="#socialrankingsolution-objects"></a>
</h2>
<p>The main goal of the <code>socialranking</code> package is to rank
elements based on a given power ranking. More formally we try to map
<span class="math inline">\(R: \mathcal{T}(\mathcal{P}) \rightarrow
\mathcal{T}(N)\)</span>, associating to each power relation <span class="math inline">\(\succeq \in \mathcal{T}(\mathcal{P})\)</span> a
total preorder <span class="math inline">\(R(\succeq)\)</span> (or <span class="math inline">\(R^\succeq\)</span>) over the elements of <span class="math inline">\(N\)</span>.</p>
<p>In this context <span class="math inline">\(i R^\succeq j\)</span>
tells us that, given a power relation <span class="math inline">\(\succeq\)</span> and applying a social ranking
solution <span class="math inline">\(R(\succeq)\)</span>, <span class="math inline">\(i\)</span> is ranked higher than or equal to <span class="math inline">\(j\)</span>. From here on out, <code>&gt;</code>
and <code>~</code> also denote the asymmetric and the symmetric part of
a social ranking, respectively, <span class="math inline">\(i\)</span>
<code>&gt;</code> <span class="math inline">\(j\)</span> indicating that
<span class="math inline">\(i\)</span> is strictly better than <span class="math inline">\(j\)</span>, whereas in <span class="math inline">\(i\)</span> <code>~</code> <span class="math inline">\(j\)</span>, <span class="math inline">\(i\)</span>
is indifferent to <span class="math inline">\(j\)</span>.</p>
<p>In section <a href="#ch:srsobj">3.1</a> we show how a general
<code>SocialRankingSolution</code> object can be constructed using the
<code>doRanking</code> function. In the following sections, we will
introduce the notion of dominance<span class="citation">[4]</span>,
cumulative dominance<span class="citation">[13]</span> and CP-Majority
comparison<span class="citation">[6]</span> that lets us compare two
elements before diving into the social ranking solutions of the Ordinal
Banzhaf Index<span class="citation">[5]</span>, Copeland-like and
Kramer-Simpson-like methods<span class="citation">[10]</span>, and
lastly the Lexicographical Excellence Solution<span class="citation">[9]</span> (Lexcel) and the Dual Lexicographical
Excellence solution<span class="citation">[14]</span> (Dual Lexcel).</p>
<div id="ex:socialrankings" class="example theorem" text="2">
<p> Let <span class="math inline">\(\{a,b\} \succ (\{a,c\} \sim \{b,c\})
\succ (\{a\} \sim \{c\}) &gt; \emptyset \succ \{b\}\)</span> be a power
ranking. Using the following social ranking solutions, we get:</p>
<ul>
<li>
<code>a &gt; b &gt; c</code> for <code>lexcelRanking</code>
</li>
<li>
<code>a &gt; c &gt; b</code> for <code>dualLexcelRanking</code>
</li>
<li>
<code>a &gt; b ~ c</code> for <code>copelandRanking</code> and
<code>kramerSimpsonRanking</code>
</li>
<li>
<code>a ~ c &gt; b</code> for
<code>ordinalBanzhafRanking</code>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="creating-socialrankingsolution-objects">Creating <code>SocialRankingSolution</code> objects<a class="anchor" aria-label="anchor" href="#creating-socialrankingsolution-objects"></a>
</h3>
<p>A <code>SocialRankingSolution</code> object represents a total
preorder in <span class="math inline">\(\mathcal{T}(N)\)</span> over the
elements of <span class="math inline">\(N\)</span>. Internally they are
saved as a list of vectors, each containing players that are indifferent
to one another. This is somewhat similar to the
<code>equivalenceClasses</code> attribute in <code>PowerRelation</code>
objects.</p>
<p>The function <code>doRanking</code> offers a generic way of creating
<code>SocialRankingSolution</code> objects. Given a
<code>PowerRelation</code> object and a sortable vector or list of
scores it determines the power relation between all players. Note that
<code>length(scores) == length(powerRelation$elements)</code> must be
<code>TRUE</code>. Additionally each index in <code>scores</code>
corresponds to the index in the sorted vector
<code>powerRelation$elements</code>.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"abc &gt; ab ~ ac &gt; bc"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># pr$elements == c("a", "b", "c")</span></span>
<span><span class="co"># we define some arbitrary score vector where "a" scores highest</span></span>
<span><span class="co"># "b" and "c" both score 1, thus they are indifferent</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/doRanking.html">doRanking</a></span><span class="op">(</span><span class="va">pr</span>, <span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b ~ c</span></span></code></pre>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># we can also tell doRanking to punish higher scores</span></span>
<span><span class="fu"><a href="../reference/doRanking.html">doRanking</a></span><span class="op">(</span><span class="va">pr</span>, <span class="va">scores</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## b ~ c &gt; a</span></span></code></pre>
<p>By default elements are assumed to be indifferent to one another if
their scores are equal. Sometimes however other factors come into play
that make it non-obvious how to compare two scores. In those cases a
function comparing two scores can be passed that should return
<code>TRUE</code> if the two scores are considered equal.</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">21</span><span class="op">)</span></span>
<span><span class="co"># b and c are considered to be indifferent,</span></span>
<span><span class="co"># because their score difference is less than 2</span></span>
<span><span class="fu"><a href="../reference/doRanking.html">doRanking</a></span><span class="op">(</span><span class="va">pr</span>, <span class="va">scores</span>, isIndifferent <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>,<span class="va">b</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">a</span><span class="op">-</span><span class="va">b</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## b ~ c &gt; a</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="comparison-functions">Comparison Functions<a class="anchor" aria-label="anchor" href="#comparison-functions"></a>
</h3>
<p>Comparison functions only compare two elements in a given power
relation. They do not offer a social ranking solution. However in cases
such as CP-Majority comparison, those comparison functions may be used
to construct a social ranking solution in some particular cases.</p>
<div class="section level4">
<h4 id="ch:dominance">Dominance<a class="anchor" aria-label="anchor" href="#ch:dominance"></a>
</h4>
<div class="definition theorem" text="1">
<p>(Dominance <span class="citation">[4]</span>) Given a power relation
<span class="math inline">\(\succeq \in
\mathcal{T}(\mathcal{P})\)</span> and two elements <span class="math inline">\(i,j \in N\)</span>, <span class="math inline">\(i\)</span> <em>dominates</em> <span class="math inline">\(j\)</span> in <span class="math inline">\(\succeq\)</span> if <span class="math inline">\(S
\cup \{i\} \succeq S \cup \{j\}\)</span> for each <span class="math inline">\(S \in 2^{N\setminus \{i,j\}}\)</span>. <span class="math inline">\(i\)</span> also <em>strictly</em> dominates <span class="math inline">\(j\)</span> if there exists <span class="math inline">\(S \in 2^{N\setminus \{i,j\}}\)</span> such that
<span class="math inline">\(S \cup \{i\} \succ S \cup
\{j\}\)</span>.</p>
</div>
<p>The implication is that for every coalition <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> can join, <span class="math inline">\(i\)</span> has at least the same positive impact
as <span class="math inline">\(j\)</span>.</p>
<p>The function <code>dominates(pr, e1, e2)</code> only returns a
logical value <code>TRUE</code> if <code>e1</code> dominates
<code>e2</code>, else <code>FALSE</code>. Note that <code>e1</code> not
dominating <code>e2</code> does <em>not</em> indicate that
<code>e2</code> dominates <code>e1</code>, nor does it imply that
<code>e1</code> is indifferent to <code>e2</code>.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span></span>
<span>  <span class="st">"3 &gt; 1 &gt; 2 &gt; 12 &gt; 13 &gt; 23"</span>,</span>
<span>  asWhat <span class="op">=</span> <span class="va">as.numeric</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1 clearly dominates 2</span></span>
<span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 3 does not dominate 1, nor does 1 dominate 3, because</span></span>
<span><span class="co"># {}u3 &gt; {}u1, but 2u1 &gt; 2u3</span></span>
<span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># an element i dominates itself, but it does not strictly dominate itself</span></span>
<span><span class="co"># because there is no Sui &gt; Sui</span></span>
<span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="fl">1</span>, <span class="fl">1</span>, strictly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<p>For any <span class="math inline">\(S \in 2^{N \setminus
\{i,j\}}\)</span>, we can only compare <span class="math inline">\(S
\cup \{i\} \succeq S \cup \{j\}\)</span> if both <span class="math inline">\(S \cup \{i\}\)</span> and <span class="math inline">\(S \cup \{j\}\)</span> take part in the power
relation.</p>
<p>Additionally, for <span class="math inline">\(S = \emptyset\)</span>,
we also want to compare <span class="math inline">\(\{i\} \succeq
\{j\}\)</span>. In some situations however a comparison between
singletons is not desired. For this reason the parameter
<code>includeEmptySet</code> can be set to <code>FALSE</code> such that
<span class="math inline">\(\emptyset \cup \{i\} \succeq \emptyset \cup
\{j\}\)</span> is not considered in the CP-Majority comparison.</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"ac &gt; bc ~ b &gt; a ~ abc &gt; ab"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># FALSE because ac &gt; bc, whereas b &gt; a</span></span>
<span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># TRUE because ac &gt; bc, ignoring b &gt; a comparison</span></span>
<span><span class="fu"><a href="../reference/dominates.html">dominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, includeEmptySet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="ch:cumul">Cumulative Dominance<a class="anchor" aria-label="anchor" href="#ch:cumul"></a>
</h4>
<p>When comparing two players <span class="math inline">\(i,j \in
N\)</span>, instead of looking at particular coalitions <span class="math inline">\(S \in 2^{N \setminus \{i,j\}}\)</span> they can
join, we look at how many stronger coalitions they can form at each
point. This property was originally introduced in <span class="citation">[13]</span> as a regular dominance axiom.</p>
<p>For a given power relation <span class="math inline">\(\succeq \in
\mathcal{T}(\mathcal{P})\)</span> and its corresponding quotient order
<span class="math inline">\(\sum_1 \succ \dots \succ \sum_m\)</span>,
the power of a player <span class="math inline">\(i\)</span> is given by
a vector <span class="math inline">\(\textrm{Score}_\textrm{Cumul}(i)
\in \mathbb{N}^m\)</span> where we cumulatively sum the amount of times
<span class="math inline">\(i\)</span> appears in <span class="math inline">\(\sum_k\)</span> for each index <span class="math inline">\(k\)</span>.</p>
<div id="def:cumuldomscore" class="definition theorem" text="2">
<p> (Cumulative Dominance Score) Given a power relation <span class="math inline">\(\succeq \in \mathcal{T}(\mathcal{P})\)</span> and
its quotient order <span class="math inline">\(\sum_1 \succ \dots \succ
\sum_m\)</span>, the cumulative score vector <span class="math inline">\(\textrm{Score}_\textrm{Cumul}(i) \in
\mathbb{N}^m\)</span> of an element <span class="math inline">\(i \in
N\)</span> is given by:</p>
<p><span class="math display">\[\begin{equation}
    \textrm{Score}_\textrm{Cumul}(i) = \Big( \sum_{t=1}^k |\{S \in
\textstyle \sum_t : i \in S\}|\Big)_{k \in \{1, \dots, m\}}
\end{equation}\]</span></p>
</div>
<div id="def:cumuldom" class="definition theorem" text="3">
<p> (Cumulative Dominance) Given two elements <span class="math inline">\(i,j \in N\)</span>, <span class="math inline">\(i\)</span> <em>cumulatively dominates</em> <span class="math inline">\(j\)</span> in <span class="math inline">\(\succeq\)</span>, if <span class="math inline">\(\textrm{Score}_\textrm{Cumul}(i)_k \geq
\textrm{Score}_\textrm{Cumul}(j)_k\)</span> for each <span class="math inline">\(k \in \{1, \dots, m\}\)</span>. <span class="math inline">\(i\)</span> also <em>strictly</em> cumulatively
dominates <span class="math inline">\(j\)</span> if there exists a <span class="math inline">\(k\)</span> such that <span class="math inline">\(\textrm{Score}_\textrm{Cumul}(i)_k &gt;
\textrm{Score}_\textrm{Cumul}(j)_k\)</span>.</p>
</div>
<p>For a given <code>PowerRelation</code> object <code>pr</code> and two
elements <code>e1</code> and <code>e2</code>,
<code>cumulativeScores(pr)</code> returns the vectors described in
definition <a href="#def:cumuldomscore">2</a> for each element,
<code>cumulativelyDominates(pr, e1, e2)</code> returns <code>TRUE</code>
or <code>FALSE</code> based on definition <a href="#def:cumuldom">3</a>.</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"ab &gt; (ac ~ bc) &gt; (a ~ c) &gt; {} &gt; b"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/cumulativeScores.html">cumulativeScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1 2 3 3 3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $b</span></span>
<span><span class="co">## [1] 1 2 2 2 3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $c</span></span>
<span><span class="co">## [1] 0 2 3 3 3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attr(,"class")</span></span>
<span><span class="co">## [1] "CumulativeScores"</span></span></code></pre>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># for each index k, $a[k] &gt;= $b[k]</span></span>
<span><span class="fu"><a href="../reference/cumulativeScores.html">cumulativelyDominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># $a[3] &gt; $b[3], therefore a also strictly dominates b</span></span>
<span><span class="fu"><a href="../reference/cumulativeScores.html">cumulativelyDominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, strictly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># $b[1] &gt; $c[1], but $c[3] &gt; $b[3]</span></span>
<span><span class="co"># therefore neither b nor c dominate each other</span></span>
<span><span class="fu"><a href="../reference/cumulativeScores.html">cumulativelyDominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cumulativeScores.html">cumulativelyDominates</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"c"</span>, <span class="st">"b"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<p>Similar to the dominance property from our previous section, two
elements not dominating one or the other does not indicate that they are
indifferent.</p>
</div>
<div class="section level4">
<h4 id="cp-majority-comparison">CP-Majority comparison<a class="anchor" aria-label="anchor" href="#cp-majority-comparison"></a>
</h4>
<p>The Ceteris Paribus Majority (CP-Majority) relation is a somewhat
relaxed version of the dominance property. Instead of checking if <span class="math inline">\(S \cup \{i\} \succeq S \cup \{j\}\)</span> for all
<span class="math inline">\(S \in 2^{N \setminus \{i,j\}}\)</span>, the
CP-Majority relation <span class="math inline">\(iR^\succeq_\textrm{CP}j\)</span> holds if the
number of times <span class="math inline">\(S \cup \{i\} \succeq S \cup
\{j\}\)</span> is greater than or equal to the number of times <span class="math inline">\(S \cup \{j\} \succeq S \cup \{i\}\)</span>.</p>
<div class="definition theorem" text="4">
<p>(CP-Majority <span class="citation">[6]</span>) Let <span class="math inline">\(\succeq \in \mathcal{T}(\mathcal{P})\)</span>. The
<em>Ceteris Paribus majority</em> relation is the binary relation <span class="math inline">\(R^\succeq_\textrm{CP} \subseteq N \times
N\)</span> such that for all <span class="math inline">\(i,j \in
N\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    iR^\succeq_\textrm{CP}j \Leftrightarrow d_{ij}(\succeq) \geq
d_{ji}(\succeq)
\end{equation}\]</span></p>
<p>where <span class="math inline">\(d_{ij}(\succeq)\)</span> represents
the cardinality of the set <span class="math inline">\(D_{ij}(\succeq)\)</span>, the set of all
coalitions <span class="math inline">\(S \in 2^{N \setminus
\{i,j\}}\)</span> for which <span class="math inline">\(S \cup \{i\}
\succeq S \cup \{j\}\)</span>.</p>
</div>
<p><code>cpMajorityComparisonScore(pr, e1, e2)</code> calculates the two
scores <span class="math inline">\(d_{ij}(\succeq)\)</span> and <span class="math inline">\(-d_{ji}(\succeq)\)</span>. Notice the minus sign -
that way we can use the sum of both values to determine the relation
between <code>e1</code> and <code>e2</code>.</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"ab &gt; (ac ~ bc) &gt; (a ~ c) &gt; {} &gt; b"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparisonScore</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  2 -1</span></span></code></pre>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparisonScore</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"b"</span>, <span class="st">"a"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  1 -2</span></span></code></pre>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparisonScore</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"a &gt;= b"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"b &gt; a"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "a &gt;= b"</span></span></code></pre>
<p>As a slight variation the logical parameter <code>strictly</code>
calculates <span class="math inline">\(d_{ij}(\succ)\)</span> and <span class="math inline">\(-d_{ji}(\succ)\)</span>, the number of coalitions
<span class="math inline">\(S \in 2^{N\setminus \{i,j\}}\)</span> where
<span class="math inline">\(S\cup\{i\}\succ S\cup\{j\}\)</span>.</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Now (ac ~ bc) is not counted</span></span>
<span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparisonScore</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, strictly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 0</span></span></code></pre>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Notice that the sum is still the same</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparisonScore</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, strictly <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparisonScore</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, strictly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<p>Coincidentally, <code>cpMajorityComparisonScore</code> with
<code>strictly = TRUE</code> can be used to determine if <code>e1</code>
(strictly) dominates <code>e2</code>.</p>
<p><code>cpMajorityComparisonScore</code> should be used for simple and
quick calculations. The more comprehensive function
<code>cpMajorityComparison(pr, e1, e2)</code> does the same
calculations, but in the process retains more information about all the
comparisons that might be interesting to a user, i.e., the set <span class="math inline">\(D_{ij}(\succeq)\)</span> and <span class="math inline">\(D_{ji}(\succeq)\)</span> as well as the relation
<span class="math inline">\(iR^\succeq_\textrm{CP}j\)</span>. See the
documentation for a full list of available data.</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># extract more information in cpMajorityComparison</span></span>
<span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparison</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b</span></span>
<span><span class="co">## D_ab = {c, {}}</span></span>
<span><span class="co">## D_ba = {c}</span></span>
<span><span class="co">## Score of a = 2</span></span>
<span><span class="co">## Score of b = 1</span></span></code></pre>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># with strictly set to TRUE, coalition c does</span></span>
<span><span class="co"># neither appear in D_ab nor in D_ba</span></span>
<span><span class="fu"><a href="../reference/cpMajorityComparison.html">cpMajorityComparison</a></span><span class="op">(</span><span class="va">pr</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, strictly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b</span></span>
<span><span class="co">## D_ab = {{}}</span></span>
<span><span class="co">## D_ba = {}</span></span>
<span><span class="co">## Score of a = 1</span></span>
<span><span class="co">## Score of b = 0</span></span></code></pre>
<p>The CP-Majority relation can generate cycles, which is the reason
that it is not offered as a social ranking solution. Instead we will
introduce the <a href="#ch:copeland">Copeland-like method</a> and <a href="#ch:kramerSimpson">Kramer-Simpson-like method</a> that make use of
the CP-Majority functions to determine a power relation between
elements. For further readings on CP-Majority, see <span class="citation">[7]</span> and <span class="citation">[10]</span>.</p>
</div>
</div>
<div class="section level3">
<h3 id="social-ranking-solutions">Social Ranking Solutions<a class="anchor" aria-label="anchor" href="#social-ranking-solutions"></a>
</h3>
<div class="section level4">
<h4 id="ordinal-banzhaf">Ordinal Banzhaf<a class="anchor" aria-label="anchor" href="#ordinal-banzhaf"></a>
</h4>
<p>The Ordinal Banzhaf Score is a vector defined by the principle of
marginal contributions. Intuitively speaking, if a player joining a
coalition causes it to move up in the ranking, it can be interpreted as
a positive contribution. On the contrary a negative contribution means
that participating causes the coalition to go down in the ranking.</p>
<div class="definition theorem" text="5">
<p>(Ordinal marginal contribution <span class="citation">[5]</span>) Let
<span class="math inline">\(\succeq \in
\mathcal{T}(\mathcal{P})\)</span>. For a given element <span class="math inline">\(i \in N\)</span>, its <em>ordinal marginal
contribution</em> <span class="math inline">\(m_i^S(\succeq)\)</span>
with right to a coalition <span class="math inline">\(S \in
\mathcal{P}\)</span> is defined as:</p>
<p><span class="math display">\[\begin{equation}
    m_i^S(\succeq) = \begin{cases}
        \hphantom{-}1 &amp; \textrm{if } S \cup \{i\} \succ S\\
        -1 &amp; \textrm{if } S \succ S \cup \{i\}\\
        \hphantom{-}0 &amp; \textrm{otherwise}
    \end{cases}
\end{equation}\]</span></p>
</div>
<div class="definition theorem" text="6">
<p>(Ordinal Banzhaf relation) Let <span class="math inline">\(\succeq
\in \mathcal{T}(\mathcal{P})\)</span>. The <em>Ordinal Banzhaf
relation</em> is the binary relation <span class="math inline">\(R^\succeq_\textrm{Banz} \subseteq N \times
N\)</span> such that for all <span class="math inline">\(i,j \in
N\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    iR^\succeq_\textrm{Banz}j \Leftrightarrow
\text{Score}_\text{Banz}(i) \geq \text{Score}_\text{Banz}(j),
\end{equation}\]</span></p>
<p>where <span class="math inline">\(\text{Score}_\text{Banz}(i) =
\sum_{S} m^S_i(\succeq)\)</span> for all <span class="math inline">\(S
\in N\setminus\{i\}\)</span>.</p>
</div>
<p>Note that if <span class="math inline">\(S \cup \{i\} \notin
\mathcal{P}\)</span>, <span class="math inline">\(m_i^S(\succeq) =
0\)</span>.</p>
<p>The function <code>ordinalBanzhafScores</code> returns two numbers
for each element: the number of coalitions <span class="math inline">\(S\)</span> where a player’s contribution has a
positive impact, and the number of coalitions <span class="math inline">\(S\)</span> where a player’s contribution has a
negative impact. These two numbers are added and elements are ranked
highest to lowest.</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="st">"&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="st">"&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># both players 1 and 2 have an Ordinal Banzhaf Score of 1</span></span>
<span><span class="co"># therefore they are indifferent to one another</span></span>
<span><span class="fu"><a href="../reference/ordinalBanzhafScores.html">ordinalBanzhafScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $`1`</span></span>
<span><span class="co">## [1] 1 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`2`</span></span>
<span><span class="co">## [1] 1 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attr(,"class")</span></span>
<span><span class="co">## [1] "OrdinalBanzhafScores"</span></span></code></pre>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ordinalBanzhafScores.html">ordinalBanzhafRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 1 ~ 2</span></span></code></pre>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"ab &gt; a &gt; {} &gt; b"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># player b has a negative impact on the empty set</span></span>
<span><span class="co"># -&gt; player b's score is 1 - 1 = 0</span></span>
<span><span class="co"># -&gt; player a's score is 2 - 0 = 2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="../reference/ordinalBanzhafScores.html">ordinalBanzhafScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">score</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">score</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a b </span></span>
<span><span class="co">## 2 0</span></span></code></pre>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ordinalBanzhafScores.html">ordinalBanzhafRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="ch:copeland">Copeland-like method<a class="anchor" aria-label="anchor" href="#ch:copeland"></a>
</h4>
<p>The Copeland-like method of ranking elements based on the CP-Majority
rule is strongly inspired by the Copeland score from social choice
theory<span class="citation">[15]</span>. The score of an element <span class="math inline">\(i \in N\)</span> is determined by the amount of
the pairwise CP-Majority winning comparisons <span class="math inline">\(i R^\succeq_\textrm{CP} j\)</span>, minus the
number of all losing comparisons <span class="math inline">\(j
R^\succeq_\textrm{CP} i\)</span> against all other elements <span class="math inline">\(j \in N \setminus \{i\}\)</span>.</p>
<div class="definition theorem" text="7">
<p>(Copeland-like relation <span class="citation">[10]</span>) Let <span class="math inline">\(\succeq \in \mathcal{T}(\mathcal{P})\)</span>. The
<em>Copeland-like</em> relation is the binary relation <span class="math inline">\(R^\succeq_\textrm{Cop} \subseteq N \times
N\)</span> such that for all <span class="math inline">\(i,j \in
N\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    iR^\succeq_\textrm{Cop}j \Leftrightarrow \text{Score}_\text{Cop}(i)
\geq \text{Score}_\text{Cop}(j),
\end{equation}\]</span></p>
<p>where <span class="math inline">\(\text{Score}_\text{Cop}(i) = |\{j
\in N \setminus \{i\}: d_{ij}(\succeq) \geq d_{ji}(\succeq)\}| - |\{j
\in N \setminus \{i\}: d_{ij}(\succeq) \leq
d_{ji}(\succeq)\}|\)</span></p>
</div>
<p><code>copelandScores(pr)</code> returns two numerical values for each
element, a positive number for the winning comparisons (shown in <span class="math inline">\(\text{Score}_\text{Cop}(i)\)</span> on the left)
and a negative number for the losing comparisons (in <span class="math inline">\(\text{Score}_\text{Cop}(i)\)</span> on the
right).</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"(abc ~ ab ~ c ~ a) &gt; (b ~ bc) &gt; ac"</span><span class="op">)</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/copelandScores.html">copelandScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Based on CP-Majority, a&gt;=b and a&gt;=c (+2), but b&gt;=a (-1)</span></span>
<span><span class="va">scores</span><span class="op">$</span><span class="va">a</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  2 -1</span></span></code></pre>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="../reference/copelandScores.html">copelandScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span>, <span class="va">sum</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  a  b  c </span></span>
<span><span class="co">##  1  0 -1</span></span></code></pre>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/copelandScores.html">copelandRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a &gt; b &gt; c</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="ch:kramerSimpson">Kramer-Simpson-like method<a class="anchor" aria-label="anchor" href="#ch:kramerSimpson"></a>
</h4>
<p>Strongly inspired by the Kramer-Simpson method of social choice
theory<span class="citation">[16, 17]</span>, elements are ranked
inversely to their greatest pairwise defeat over all possible
CP-Majority comparisons.</p>
<div id="def:ks" class="definition theorem" text="8">
<p> (Kramer-Simpson-like relation <span class="citation">[10]</span>)
Let <span class="math inline">\(\succeq \in
\mathcal{T}(\mathcal{P})\)</span>. The <em>Kramer-Simpson-like</em>
relation is the binary relation <span class="math inline">\(R^\succeq_\textrm{KS} \subseteq N \times
N\)</span> such that for all <span class="math inline">\(i,j \in
N\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    iR^\succeq_\textrm{KS}j \Leftrightarrow \text{Score}_\text{KS}(i)
\leq \text{Score}_\text{KS}(j),
\end{equation}\]</span></p>
<p>where <span class="math inline">\(\text{Score}_\text{KS}(i) = \max_j
d_{ji}(\succeq)\)</span> for all <span class="math inline">\(j \in N
\setminus \{i\}\)</span>.</p>
</div>
<p><code>kramerSimpsonScores(pr)</code> returns a single numerical value
for each element, which sorted lowest to highest gives us the ranking
solution.</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"(abc ~ ab ~ c ~ a) &gt; (b ~ bc) &gt; ac"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="../reference/kramerSimpsonScores.html">kramerSimpsonScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a b c </span></span>
<span><span class="co">## 0 0 1</span></span></code></pre>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/kramerSimpsonScores.html">kramerSimpsonRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## a ~ b &gt; c</span></span></code></pre>
<p>There is a small caveat to Definition <a href="#def:ks">8</a>. By
default this function does not compare <span class="math inline">\(d_{ii}(\succeq)\)</span>. In other terms, the
score of every element is the maximum CP-Majority comparison score
against all <em>other</em> elements.</p>
<p>This is slightly different from the definition found in <span class="citation">[10]</span>, where the CP-Majority comparison <span class="math inline">\(d_{ii}(\succeq)\)</span> is also considered. Since
by definition <span class="math inline">\(d_{ii}(\succeq) = 0\)</span>,
the Kramer-Simpson scores in those cases will never be negative,
possibly discarding valuable information.</p>
<p>To still account for the original definition in <span class="citation">[10]</span>, the functions
<code>kramerSimpsonScores</code> and <code>kramerSimpsonRanking</code>
offer a <code>compIvsI</code> parameter that can be set to
<code>TRUE</code> if one wishes for <span class="math inline">\(d_{ii}(\succeq)\)</span> to be included in the
comparisons.</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span></span>
<span>  <span class="st">"b &gt; (a ~ c) &gt; ab &gt; (ac ~ bc) &gt; {} &gt; abc"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/kramerSimpsonScores.html">kramerSimpsonRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## b &gt; a &gt; c</span></span></code></pre>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># notice how b's score is negative</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="../reference/kramerSimpsonScores.html">kramerSimpsonScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  a  b  c </span></span>
<span><span class="co">##  1 -1  2</span></span></code></pre>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/kramerSimpsonScores.html">kramerSimpsonScores</a></span><span class="op">(</span><span class="va">pr</span>, elements <span class="op">=</span> <span class="st">"b"</span>, compIvsI <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $b</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attr(,"class")</span></span>
<span><span class="co">## [1] "KramerSimpsonScores"</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="ch:lexcel">Lexicographical Excellence Solution<a class="anchor" aria-label="anchor" href="#ch:lexcel"></a>
</h4>
<p>The idea behind the lexicographical excellence solution (Lexcel) is
to reward elements appearing more frequently in higher ranked
equivalence classes.</p>
<p>For a given power relation <span class="math inline">\(\succeq\)</span> and its quotient order <span class="math inline">\(\sum_1 \succ \dots \succ \sum_m\)</span>, we
denote by <span class="math inline">\(i_k\)</span> the number of
coalitions in <span class="math inline">\(\sum_k\)</span> containing
<span class="math inline">\(i\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    i_k = |\{S \in \textstyle \sum_k: i \in S\}|
\end{equation}\]</span></p>
<p>for <span class="math inline">\(k \in \{1, \dots, m\}\)</span>. Now,
let <span class="math inline">\(\text{Score}_\text{Lex}(i)\)</span> be
the <span class="math inline">\(m\)</span>-dimensional vector <span class="math inline">\(\text{Score}_\text{Lex}(i) = (i_1, \dots,
i_m)\)</span> associated to <span class="math inline">\(\succeq\)</span>. Consider the lexicographic order
<span class="math inline">\(\geq_\textrm{Lex}\)</span> among vectors
<span class="math inline">\(\mathbf{i}\)</span> and <span class="math inline">\(\mathbf{j}\)</span>: <span class="math inline">\(\mathbf{i} \geq_\textrm{Lex} \mathbf{j}\)</span>
if either <span class="math inline">\(\mathbf{i} = \mathbf{j}\)</span>
or there exists <span class="math inline">\(t : i_r = j_r, r \in
\{1,\dots,t-1\}\)</span>, and <span class="math inline">\(i_t &gt;
j_t\)</span>.</p>
<div id="def:lexcel" class="definition theorem" text="9">
<p> (Lexicographic-Excellence relation <span class="citation">[8]</span>) Let <span class="math inline">\(\succeq \in
\mathcal{T}(\mathcal{P})\)</span> with its corresponding quotient order
<span class="math inline">\(\sum_1 \succ \dots \succ \sum_m\)</span>.
The <em>Lexicographic-Excellence</em> relation is the binary relation
<span class="math inline">\(R^\succeq_\textrm{Lex} \subseteq N \times
N\)</span> such that for all <span class="math inline">\(i,j \in
N\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    iR^\succeq_\textrm{Lex}j \Leftrightarrow \text{Score}_\text{Lex}(i)
\geq_{\textrm{Lex}} \text{Score}_\text{Lex}(j)
\end{equation}\]</span></p>
</div>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span></span>
<span>  <span class="st">"12 &gt; (123 ~ 23 ~ 3) &gt; (1 ~ 2) &gt; 13"</span>,</span>
<span>  asWhat <span class="op">=</span> <span class="va">as.numeric</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># show the number of times an element appears in each equivalence class</span></span>
<span><span class="co"># e.g. 3 appears 3 times in [[2]] and 1 time in [[4]]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">pr</span><span class="op">$</span><span class="va">equivalenceClasses</span>, <span class="va">unlist</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## [1] 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [1] 1 2 3 2 3 3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## [1] 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[4]]</span></span>
<span><span class="co">## [1] 1 3</span></span></code></pre>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lexScores</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lexcelScores.html">lexcelScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">lexScores</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Lexcel score of element "</span>, <span class="va">i</span>, <span class="st">": "</span>, <span class="va">lexScores</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># at index 1, element 2 ranks higher than 3</span></span>
<span><span class="va">lexScores</span><span class="op">[</span><span class="st">'2'</span><span class="op">]</span> <span class="op">&gt;</span> <span class="va">lexScores</span><span class="op">[</span><span class="st">'3'</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># at index 2, element 2 ranks higher than 1</span></span>
<span><span class="va">lexScores</span><span class="op">[</span><span class="st">'2'</span><span class="op">]</span> <span class="op">&gt;</span> <span class="va">lexScores</span><span class="op">[</span><span class="st">'1'</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lexcelScores.html">lexcelRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 2 &gt; 1 &gt; 3</span></span></code></pre>
<p>For some generalizations of the Lexcel solution see also <span class="citation">[9]</span>.</p>
<p>Lexcel score vectors are very similar to the cumulative score vectors
(see section on <a href="#ch:cumul">Cumulative Dominance</a>) in that
the number of times an element appears in a given equivalence class is
of interest. In fact, applying the base function <code>cumsum</code> on
an element’s lexcel score gives us its cumulative score.</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lexcelCumulated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">lexScores</span>, <span class="va">cumsum</span><span class="op">)</span></span>
<span><span class="va">cumulScores</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cumulativeScores.html">cumulativeScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">lexcelCumulated</span><span class="op">)</span>, <span class="st">": "</span>, <span class="va">lexcelCumulated</span>, collapse <span class="op">=</span> <span class="st">', '</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "1: 1:4, 2: c(1, 3, 4, 4), 3: c(0, 3, 3, 4)"</span></span></code></pre>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cumulScores</span><span class="op">)</span>, <span class="st">": "</span>, <span class="va">cumulScores</span>, collapse <span class="op">=</span> <span class="st">', '</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "1: 1:4, 2: c(1, 3, 4, 4), 3: c(0, 3, 3, 4)"</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="dual-lexicographical-excellence-solution">Dual Lexicographical Excellence Solution<a class="anchor" aria-label="anchor" href="#dual-lexicographical-excellence-solution"></a>
</h4>
<p>Similar to the Lexcel ranking, the Dual Lexcel also uses the Lexcel
score vectors from definition <a href="#def:lexcel">9</a> to establish a
ranking. However, instead of rewarding higher frequencies in high
ranking coalitions, it punishes higher frequencies in lower ranking
coalitions, or, it punishes mediocrity<span class="citation">[14]</span>.</p>
<p>Take the values <span class="math inline">\(i_k\)</span> for <span class="math inline">\(k \in \{1, \dots, m\}\)</span> and the Lexcel
score vector <span class="math inline">\(\text{Score}_\text{Lex}(i)\)</span> from section
<a href="#ch:lexcel">Lexicographical Excellence Solution</a>. Consider
the dual lexicographical order <span class="math inline">\(\geq_\textrm{DualLex}\)</span> among vectors <span class="math inline">\(\mathbf{i}\)</span> and <span class="math inline">\(\mathbf{j}\)</span>: <span class="math inline">\(\mathbf{i} \geq_\textrm{DualLex}
\mathbf{j}\)</span> if either <span class="math inline">\(\mathbf{i} =
\mathbf{j}\)</span> or there exists <span class="math inline">\(t: i_t
&lt; j_t\)</span> and <span class="math inline">\(i_r = j_r, r\in\{t+1,
\dots, m\}\)</span>.</p>
<div class="definition theorem" text="10">
<p>(Dual Lexicographical-Excellence relation <span class="citation">[14]</span>) Let <span class="math inline">\(\succeq
\in \mathcal{T}(\mathcal{P})\)</span>. The <em>Dual
Lexicographic-Excellence</em> relation is the binary relation <span class="math inline">\(R^\succeq_\textrm{DualLex} \subseteq N \times
N\)</span> such that for all <span class="math inline">\(i,j \in
N\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    iR^\succeq_\textrm{DualLex}j \Leftrightarrow
\text{Score}_\text{Lex}(i) \geq_\textrm{DualLex}
\text{Score}_\text{Lex}(j)
\end{equation}\]</span></p>
</div>
<p>The S3 class <code>LexcelScores</code> does not account for Dual
Lexcel comparisons. Instead <code>-rev(x)</code> is called on a Lexcel
score vector <code>x</code> such that the resulting comparisons produces
a Dual Lexcel ranking solution.</p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span></span>
<span>  <span class="st">"12 &gt; (123 ~ 23 ~ 3) &gt; (1 ~ 2) &gt; 13"</span>,</span>
<span>  asWhat <span class="op">=</span> <span class="va">as.numeric</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">lexScores</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lexcelScores.html">lexcelScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># in regular Lexcel, 1 scores higher than 3</span></span>
<span><span class="va">lexScores</span><span class="op">[</span><span class="st">'1'</span><span class="op">]</span> <span class="op">&gt;</span> <span class="va">lexScores</span><span class="op">[</span><span class="st">'3'</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># turn Lexcel score into Dual Lexcel score</span></span>
<span><span class="va">dualLexScores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="../reference/lexcelScores.html">lexcelScores</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  class <span class="op">=</span> <span class="st">'LexcelScores'</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># now 1 scores lower than 3</span></span>
<span><span class="va">dualLexScores</span><span class="op">[</span><span class="st">'1'</span><span class="op">]</span> <span class="op">&gt;</span> <span class="va">dualLexScores</span><span class="op">[</span><span class="st">'3'</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># element 2 comes out at the top in both Lexcel and Dual Lexcel</span></span>
<span><span class="fu"><a href="../reference/lexcelScores.html">lexcelRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 2 &gt; 1 &gt; 3</span></span></code></pre>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lexcelScores.html">dualLexcelRanking</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 2 &gt; 3 &gt; 1</span></span></code></pre>
</div>
</div>
</div>
<div class="section level2">
<h2 id="relations">Relations<a class="anchor" aria-label="anchor" href="#relations"></a>
</h2>
<div class="section level3">
<h3 id="incidence-matrix">Incidence Matrix<a class="anchor" aria-label="anchor" href="#incidence-matrix"></a>
</h3>
<p>In our vignette we focused more on the intuitive aspects of power
relations and social ranking solutions. To reiterate, a power relation
is a total preorder, or a reflexive and transitive relation <span class="math inline">\(\succeq \in \mathcal{P} \times
\mathcal{P}\)</span>, where <span class="math inline">\(\sim\)</span>
denotes the symmetric part and <span class="math inline">\(\succ\)</span> its asymmetric part.</p>
<p>A power relation can be viewed as an incidence matrix <span class="math inline">\((b_{ij}) = B \in \{0,1\}^{|\mathcal{P}| \times
|\mathcal{P}|}\)</span>. Given two coalitions <span class="math inline">\(i, j \in \mathcal{P}\)</span>, if <span class="math inline">\(iRj\)</span> then <span class="math inline">\(b_{ij} = 1\)</span>, else <span class="math inline">\(0\)</span>.</p>
<p>With help of the <code>relations</code> package, the functions
<code>relations::as.relation(pr)</code> and
<code>powerRelationMatrix(pr)</code> turn a <code>PowerRelation</code>
object into a <code>relation</code> object. <code>relations</code> then
offers ways to display the <code>relation</code> object as an incidence
matrix with <code>relation_incidence(rel)</code> and to test basic
properties such <code>relation_is_linear_order(rel)</code>,
<code>relation_is_acyclic(rel)</code> and
<code>relation_is_antisymmetric(rel)</code> (see <code>relations</code>
package for more <span class="citation">[11]</span>).</p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"ab &gt; a &gt; {} &gt; b"</span><span class="op">)</span></span>
<span><span class="va">rel</span> <span class="op">&lt;-</span> <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/relation.html" class="external-link">as.relation</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/incidence.html" class="external-link">relation_incidence</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Incidences:</span></span>
<span><span class="co">##    ab ​a ​​{} ​​​b</span></span>
<span><span class="co">## ab  1 1  1 1</span></span>
<span><span class="co">## ​a   0 1  1 1</span></span>
<span><span class="co">## ​​{}  0 0  1 1</span></span>
<span><span class="co">## ​​​b   0 0  0 1</span></span></code></pre>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_acyclic</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_antisymmetric</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_linear_order</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_complete</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_reflexive</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_transitive</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE TRUE TRUE TRUE TRUE TRUE</span></span></code></pre>
<p>Note that the columns and rows are sorted by their names in
<code>relation_domain(rel)</code>, hence why each name is preceded by
the ordering number.</p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># a power relation where coalitions {1} and {2} are indifferent</span></span>
<span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"12 &gt; (1 ~ 2)"</span>, asWhat <span class="op">=</span> <span class="va">as.numeric</span><span class="op">)</span></span>
<span><span class="va">rel</span> <span class="op">&lt;-</span> <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/relation.html" class="external-link">as.relation</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># we have both binary relations {1}R{2} as well as {2}R{1}</span></span>
<span><span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/incidence.html" class="external-link">relation_incidence</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Incidences:</span></span>
<span><span class="co">##    12 ​1 ​​2</span></span>
<span><span class="co">## 12  1 1 1</span></span>
<span><span class="co">## ​1   0 1 1</span></span>
<span><span class="co">## ​​2   0 1 1</span></span></code></pre>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_acyclic</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_antisymmetric</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_linear_order</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_complete</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_reflexive</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span>,</span>
<span>  <span class="fu">relations</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/relations/man/predicates.html" class="external-link">relation_is_transitive</a></span><span class="op">(</span><span class="va">rel</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="cycles-and-transitive-closure">Cycles and Transitive Closure<a class="anchor" aria-label="anchor" href="#cycles-and-transitive-closure"></a>
</h3>
<p>A cycle in a power relation exists, if there is one coalition <span class="math inline">\(S \in 2^N\)</span> that appears twice. For
example, in <span class="math inline">\(\{1,2\} \succ (\{1\} \sim
\emptyset) \succ \{1,2\}\)</span>, the coalition <span class="math inline">\(\{1,2\}\)</span> appears at the beginning and at
the end of the power relation.</p>
<p>Properly handling power relations and calculating social ranking
solutions with cycles is somewhat ill-defined, hence a warning message
is shown as soon as one is created.</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, <span class="st">"&gt;"</span>, <span class="fl">2</span>, <span class="st">"&gt;"</span>, <span class="fl">1</span>, <span class="st">"~"</span>, <span class="fl">2</span>, <span class="st">"&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in newPowerRelation(c(1, 2), "&gt;", 2, "&gt;", 1, "~", 2, "&gt;", c(1, 2)): Found the following duplicates. Did you mean to introduce cycles?</span></span>
<span><span class="co">##   {2}</span></span>
<span><span class="co">##   {1, 2}</span></span></code></pre>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 12 &gt; 2 &gt; (1 ~ 2) &gt; 12</span></span></code></pre>
<p>Recall that a power relation is transitive, meaning for three
coalitions <span class="math inline">\(x, y, z \in 2^N\)</span>, if
<span class="math inline">\(xRy\)</span> and <span class="math inline">\(yRz\)</span>, then <span class="math inline">\(xRz\)</span>. If we introduce cycles, we pretty
much introduce symmetry. Assume we have the power relation <span class="math inline">\(x \succ y \succ x\)</span>. Then, even though
<span class="math inline">\(xRy\)</span> and <span class="math inline">\(yRx\)</span> are defined as the asymmetric part of
the power relation <span class="math inline">\(\succeq\)</span>,
together they form the symmetric power relation <span class="math inline">\(x \sim y\)</span>.</p>
<p><code>transitiveClosure(pr)</code> is a function that turns a power
relation with cycles into one without one. In the process of removing
duplicate coalitions, it turns all asymmectric relations within a cycle
into symmetric relations.</p>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="../reference/newPowerRelation.html">newPowerRelation</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">'&gt;'</span>, <span class="fl">2</span>, <span class="st">'&gt;'</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pr</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## 1 &gt; 2 &gt; 1</span></span></code></pre>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/transitiveClosure.html">transitiveClosure</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2</span></span>
<span><span class="co">## (1 ~ 2)</span></span></code></pre>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># two cycles, (1&gt;3&gt;1) and (2&gt;23&gt;2)</span></span>
<span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span></span>
<span>    <span class="st">"1 &gt; 3 &gt; 1 &gt; 2 &gt; 23 &gt; 2"</span>,</span>
<span>    asWhat <span class="op">=</span> <span class="va">as.numeric</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/transitiveClosure.html">transitiveClosure</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: 1 2 3</span></span>
<span><span class="co">## (1 ~ 3) &gt; (2 ~ 23)</span></span></code></pre>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># overlapping cycles</span></span>
<span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/newPowerRelationFromString.html">newPowerRelationFromString</a></span><span class="op">(</span><span class="st">"c &gt; ac &gt; b &gt; ac &gt; (a ~ b) &gt; abc"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/transitiveClosure.html">transitiveClosure</a></span><span class="op">(</span><span class="va">pr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Elements: a b c</span></span>
<span><span class="co">## c &gt; (ac ~ b ~ a) &gt; abc</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="bibliography">Bibliography<a class="anchor" aria-label="anchor" href="#bibliography"></a>
</h2>
<div id="refs" class="references csl-bib-body">
<div id="ref-shapley1954method" class="csl-entry">
1. Shapley LS, Shubik M. A method for evaluating the distribution of
power in a committee system. American political science review.
1954;48:787–92.
</div>
<div id="ref-1964Banzhaf" class="csl-entry">
2. Banzhaf III JF. Weighted voting doesn’t work: A mathematical
analysis. Rutgers L Rev. 1964;19:317.
</div>
<div id="ref-holler2013power" class="csl-entry">
3. Holler MJ, Nurmi H. Power, voting, and voting power: 30 years after.
Springer; 2013.
</div>
<div id="ref-2017axiomaticAndAlgorithmicPerspectives" class="csl-entry">
4. Moretti S, Öztürk M. Some axiomatic and algorithmic perspectives on
the social ranking problem. In: International conference on algorithmic
DecisionTheory. Springer; 2017. p. 166–81.
</div>
<div id="ref-2019OrdinalBanzhaf" class="csl-entry">
5. Khani H, Moretti S, Öztürk M. An ordinal banzhaf index for social
ranking. In: 28th international joint conference on artificial
intelligence (IJCAI 2019). 2019. p. 378–84.
</div>
<div id="ref-2018CPMajority" class="csl-entry">
6. Haret A, Khani H, Moretti S, Öztürk M. Ceteris paribus majority for
social ranking. In: 27th international joint conference on artificial
intelligence (IJCAI-ECAI-18). 2018. p. 303–9.
</div>
<div id="ref-2018CPMajoritySims" class="csl-entry">
7. Fayard N, Öztürk-Escoffier M. Ordinal social ranking: Simulation for
CP-majority rule. In: DA2PL’2018 (from multiple criteria decision aid to
preference learning). 2018.
</div>
<div id="ref-2019PreferenceRelation" class="csl-entry">
8. Bernardi G, Lucchetti R, Moretti S. Ranking objects from a preference
relation over their subsets. Social Choice and Welfare. 2019;52:589–606.
</div>
<div id="ref-2021Lexcel" class="csl-entry">
9. Algaba E, Moretti S, Rémila E, Solal P. Lexicographic solutions for
coalitional rankings. Social Choice and Welfare. 2021;1–33.
</div>
<div id="ref-2021Manipulability" class="csl-entry">
10. Allouche T, Escoffier B, Moretti S, Öztürk M. Social ranking
manipulability for the CP-majority, banzhaf and lexicographic excellence
solutions. In: Bessiere C, editor. Proceedings of the twenty-ninth
international joint conference on artificial intelligence,
<span>IJCAI-20</span>. International Joint Conferences on Artificial
Intelligence Organization; 2020. p. 17–23. doi:<a href="https://doi.org/10.24963/ijcai.2020/3" class="external-link">10.24963/ijcai.2020/3</a>.
</div>
<div id="ref-relationsPackage" class="csl-entry">
11. Meyer D, Hornik K. Relations: Data structures and algorithms for
relations. 2022. <a href="https://CRAN.R-project.org/package=relations" class="external-link">https://CRAN.R-project.org/package=relations</a>.
</div>
<div id="ref-setsPackage" class="csl-entry">
12. Meyer D, Hornik K. <a href="https://doi.org/10.18637/jss.v031.i02" class="external-link">Generalized and
customizable sets in <span>R</span></a>. Journal of Statistical
Software. 2009;31:1–27.
</div>
<div id="ref-2015Cumulative" class="csl-entry">
13. Moretti S. An axiomatic approach to social ranking under coalitional
power relations. Homo Oeconomicus. 2015;32:183–208.
</div>
<div id="ref-2021AntiLexcel" class="csl-entry">
14. Serramia M, López-Sánchez M, Moretti S, Rodríguez-Aguilar JA. On the
dominant set selection problem and its application to value alignment.
Autonomous Agents and Multi-Agent Systems. 2021;35:1–38.
</div>
<div id="ref-1951Copeland" class="csl-entry">
15. Copeland AH. A reasonable social welfare function. mimeo, 1951.
University of Michigan; 1951.
</div>
<div id="ref-1969Simpson" class="csl-entry">
16. Simpson PB. On defining areas of voter choice: Professor tullock on
stable voting. The Quarterly Journal of Economics. 1969;83:478–90.
</div>
<div id="ref-1975Kramer" class="csl-entry">
17. Kramer GH. A dynamical model of political equilibrium. Journal of
Economic Theory. 1975;16:310–34.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Felix Fritz, Jochen Staudacher, Moretti Stefano.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
